<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Намеренье или Виденье</title>
    <link rel="stylesheet" href="style.css">
    <!-- Подключение Telegram Web Apps API -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <div id="user-greeting">Привет, <span id="telegram-user-name">Игрок</span>!</div>

        <!-- Экран Меню -->
        <div id="menu-screen" class="game-screen">
            <h1>Выберите игру</h1>
            <div class="menu-buttons">
                <button id="btn-start-intention">Намеренье</button>
                <button id="btn-start-vision">Виденье</button>
            </div>

            <!-- Кнопка "Прочти" -->
            <div class="read-more-container">
                 <button id="btn-read-more" class="small-btn">Прочти</button>
            </div>


            <!-- Область для текста "Отличие" -->
            <div id="read-more-area" class="hidden">
                <h3>Отличие игры Виденье от Намерение</h3>
                <p>
                    В игре Виденье результат сгенерирован и уже существует, сохранен, его можно видеть (после "Перемешать"). Игроку нужно угадать этот сохраненный результат.
                </p>
                <p>
                    В игре Намерение результат постоянно генерируется и изменяется до тех пор, пока вы не кликните кнопку "Показать". Достаточно удерживать образ цвета или фигуры во внутреннем взоре и нажать кнопку "Показать" в тот момент, когда вы почувствуете совпадение.
                </p>
                <button id="btn-close-read-more" class="small-btn">Закрыть</button>
            </div>

        </div>

        <!-- Экран Игры: Намеренье -->
        <div id="game-intention" class="game-screen hidden">
            <h2>Намеренье</h2>
            <!-- Дисплей рандомайзера -->
            <div id="intention-display" class="display">
                <div id="intention-result" class="result-display hidden">
                    <!-- Результат (цвет/фигура) будет отображен здесь -->
                </div>
            </div>

            <!-- Кнопка Показать -->
            <button id="intention-show-btn" class="large-btn">Показать</button>

            <!-- Настройки и Назад -->
            <div class="controls">
                <div class="mode-select">
                    <label><input type="radio" name="intention-mode" value="color" checked> Цвет</label>
                    <label><input type="radio" name="intention-mode" value="shape"> Фигура</label>
                </div>
                <button class="back-btn">Назад</button>
            </div>
        </div>

        <!-- Экран Игры: Виденье -->
        <div id="game-vision" class="game-screen hidden">
            <h2>Виденье</h2>
            <!-- Кнопка Перемешать -->
            <button id="vision-shuffle-btn" class="large-btn">Перемешать</button>

            <!-- Дисплей для отображения результата угадывания -->
            <div id="vision-display" class="display">
                 <div id="vision-result" class="result-display hidden">
                    <!-- Результат (цвет/фигура) или сообщение об угадывании -->
                </div>
            </div>

            <!-- Кнопки выбора -->
            <div id="vision-choices" class="choice-buttons">
                <!-- Кнопки выбора (цвета или фигуры) будут сгенерированы/показаны здесь -->
                <button class="choice-btn color-btn" data-choice="red"></button>
                <button class="choice-btn color-btn" data-choice="blue"></button>
                <button class="choice-btn shape-btn hidden" data-choice="circle">
                     <svg width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="#000"/></svg>
                </button>
                 <button class="choice-btn shape-btn hidden" data-choice="triangle">
                    <svg width="100" height="100" viewBox="0 0 100 100"><polygon points="50,10 90,90 10,90" fill="#000"/></svg>
                 </button>
            </div>

            <!-- Статистика -->
            <div id="vision-stats">
                <p>Попытки: <span id="stats-attempts">0</span></p>
                <p>Успешные: <span id="stats-successes">0</span></p>
                <p>Неуспешные: <span id="stats-failures">0</span></p>
            </div>

            <!-- Настройки и Назад -->
            <div class="controls">
                 <div class="mode-select">
                    <label><input type="radio" name="vision-mode" value="color" checked> Цвет</label>
                    <label><input type="radio" name="vision-mode" value="shape"> Фигура</label>
                </div>
                <button class="back-btn">Назад</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
                  </html>

<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-store, must-revalidate">
    <title>–ù–∞–º—ñ—Ä —á–∏ –ë–∞—á–µ–Ω–Ω—è</title>
    <link rel="shortcut icon" type="image/x-icon" href="/ColorForm/favicon.ico">
    <link rel="stylesheet" href="style.css">
    <script async src="https://www.googletagmanager.com/gtag/js"></script>
    <script src="config.js"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        if (window.GA_MEASUREMENT_ID) {
            console.log('GA4 initialized with ID:', window.GA_MEASUREMENT_ID);
            gtag('config', window.GA_MEASUREMENT_ID, { 'debug_mode': true });
        } else {
            console.error('GA4 Measurement ID not found');
            gtag('event', 'error', {
                'event_category': 'App',
                'event_label': 'Config Load Failure'
            });
        }
    </script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <div id="user-greeting">–ü–æ—Ä–µ–ø–µ—Ç–∏—Ä—É–µ–º, <span id="telegram-user-name">–ò–≥—Ä–æ–∫</span>üëÅ</div>

        <div id="menu-screen" class="game-screen">
            <h1>–ù–∞–º—ñ—Ä —á–∏ –ë–∞—á–µ–Ω–Ω—è</h1>
            <div class="menu-buttons">
                <button id="btn-start-intention" class="large-btn" aria-label="–ì—Ä–∞—Ç–∏ –≤ –ù–∞–º—ñ—Ä">–ì—Ä–∞—Ç–∏ –≤ –ù–∞–º—ñ—Ä</button>
                <button id="btn-start-vision" class="large-btn" aria-label="–ì—Ä–∞—Ç–∏ –≤ –ë–∞—á–µ–Ω–Ω—è">–ì—Ä–∞—Ç–∏ –≤ –ë–∞—á–µ–Ω–Ω—è</button>
            </div>
            <div class="menu-controls">
                <button id="theme-toggle-btn" class="small-btn" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ —Ç–µ–º—É">
                    <span id="theme-icon">üåô</span> –î–µ–Ω—å/–ù—ñ—á
                </button>
                <div class="language-select-container">
                    <div id="language-select-custom" class="custom-select" aria-label="–û–±–µ—Ä—ñ—Ç—å –º–æ–≤—É">
                        <div class="selected-option">
                            <span id="selected-language">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</span>
                            <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                        <ul id="language-options" class="options-list hidden">
                            <li data-value="ru">–†—É—Å—Å–∫–∏–π</li>
                            <li data-value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</li>
                            <li data-value="en">English</li>
                            <li data-value="es">Espa√±ol</li>
                            <li data-value="alien">üëΩ</li>
                        </ul>
                    </div>
                </div>
                <button id="btn-read-more" class="small-btn" aria-label="–ü—Ä–æ—á–∏—Ç–∞—Ç–∏ –æ–ø–∏—Å —ñ–≥–æ—Ä">–ü—Ä–æ—á–∏—Ç–∞–π</button>
            </div>
            <div id="read-more-area" class="hidden">
                <h3>–í—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –ù–∞–º—ñ—Ä—É —Ç–∞ –ë–∞—á–µ–Ω–Ω—è</h3>
                <p>–£ –≥—Ä—ñ ¬´–ë–∞—á–µ–Ω–Ω—è¬ª –∑–∞ —á–æ—Ä–Ω–∏–º –µ–∫—Ä–∞–Ω–æ–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –æ–±‚Äô—î–∫—Ç. –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–º—ñ—à–∞–π—Ç–µ –æ–±‚Äô—î–∫—Ç–∏, –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ –Ω–∞ —á–æ—Ä–Ω–∏–π –µ–∫—Ä–∞–Ω. –ß–µ—Ä–µ–∑ —Ç—Ä–∏ —Å–µ–∫—É–Ω–¥–∏ –ø–µ—Ä–µ–º—ñ—à—É–≤–∞–Ω–Ω—è –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è. –ó–∞–≤–¥–∞–Ω–Ω—è ‚Äî —É—è–≤–∏—Ç–∏, —â–æ –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ –∑–∞ —à–∏—Ä–º–æ—é, —ñ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –∫–Ω–æ–ø–∫—É. –ü–µ—Ä–µ–¥ –≤–∏–±–æ—Ä–æ–º –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –ø–µ—Ä–µ–º—ñ—à—É–π—Ç–µ –æ–±‚Äô—î–∫—Ç–∏.</p>
                <p>–£ –≥—Ä—ñ ¬´–ù–∞–º—ñ—Ä¬ª –∑–∞ —á–æ—Ä–Ω–∏–º –µ–∫—Ä–∞–Ω–æ–º –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ü–∏–∫–ª—ñ—á–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –æ–±‚Äô—î–∫—Ç—ñ–≤. –ó–∞–≤–¥–∞–Ω–Ω—è ‚Äî —É—è–≤–∏—Ç–∏ –æ–±‚Äô—î–∫—Ç —ñ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –Ω–∞ —á–æ—Ä–Ω–∏–π –µ–∫—Ä–∞–Ω –∞–±–æ –∫–Ω–æ–ø–∫—É ¬´–ü–æ–∫–∞–∑–∞—Ç–∏¬ª. –£ —Ü–µ–π –º–æ–º–µ–Ω—Ç —Ü–∏–∫–ª –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è. –ü–æ–∫–∞–∑–∞–Ω–∏–π –æ–±‚Äô—î–∫—Ç –º–æ–∂–µ –∑–±—ñ–≥—Ç–∏—Å—è –∑ –≤–∞—à–∏–º –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–º –±–∞—á–µ–Ω–Ω—è–º.</p>
                <button id="btn-close-read-more" class="small-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –æ–ø–∏—Å">–ó–∞–∫—Ä–∏—Ç–∏</button>
            </div>
        </div>

        <div id="game-intention" class="game-screen hidden">
            <h2>–ù–∞–º—ñ—Ä</h2>
            <button id="intention-new-game-btn" class="new-game-btn hidden" aria-label="–ù–æ–≤–∞ –≥—Ä–∞ –ù–∞–º—ñ—Ä">–ù–æ–≤–∞ –≥—Ä–∞</button>
            <div class="controls">
                <div class="mode-select">
                    <label for="intention-mode-color"><input type="radio" id="intention-mode-color" name="intention-mode" value="color" checked> –ö–æ–ª—ñ—Ä</label>
                    <label for="intention-mode-shape"><input type="radio" id="intention-mode-shape" name="intention-mode" value="shape"> –§—ñ–≥—É—Ä–∞</label>
                </div>
                <div class="attempts-mode" id="intention-attempts-mode">
                    <label for="intention-attempts-limited"><input type="radio" id="intention-attempts-limited" name="intention-attempts-mode" value="limited" checked> 10 —Å–ø—Ä–æ–±</label>
                    <label for="intention-attempts-unlimited"><input type="radio" id="intention-attempts-unlimited" name="intention-attempts-mode" value="unlimited"> –ë–µ–∑–ª—ñ–º—ñ—Ç</label>
                </div>
            </div>
            <div class="display" id="intention-display">
                <div class="result-display" id="intention-result"></div>
            </div>
            <div class="action-btn">
                <button id="intention-show-btn" class="small-btn" aria-label="–ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç">–ü–æ–∫–∞–∑–∞—Ç–∏</button>
            </div>
            <div id="intention-stats">
                <p>–°–ø—Ä–æ–±–∏: <span id="intention-stats-attempts">0</span>/<span id="intention-stats-max-attempts">10</span></p>
                <p>–£—Å–ø—ñ—Ö–∏: <span id="intention-stats-successes">0</span></p>
                <p>–ù–µ–≤–¥–∞—á—ñ: <span id="intention-stats-failures">0</span></p>
                <p>–í—ñ–¥—Å–æ—Ç–æ–∫ —É—Å–ø—ñ—Ö—É: <span id="intention-stats-success-rate">0%</span></p>
                <p>–°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å: <span id="intention-stats-avg-time">0—Å</span></p>
            </div>
            <button class="back-btn" aria-label="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –º–µ–Ω—é">–ù–∞—Ä–∞–∑—ñ –¥–æ—Å–∏—Ç—å</button>
        </div>

        <div id="game-vision" class="game-screen hidden">
            <h2>–ë–∞—á–µ–Ω–Ω—è</h2>
            <button id="vision-new-game-btn" class="new-game-btn hidden" aria-label="–ù–æ–≤–∞ –≥—Ä–∞ –ë–∞—á–µ–Ω–Ω—è">–ù–æ–≤–∞ –≥—Ä–∞</button>
            <div class="controls">
                <div class="mode-select">
                    <label for="vision-mode-color"><input type="radio" id="vision-mode-color" name="vision-mode" value="color" checked> –ö–æ–ª—ñ—Ä</label>
                    <label for="vision-mode-shape"><input type="radio" id="vision-mode-shape" name="vision-mode" value="shape"> –§—ñ–≥—É—Ä–∞</label>
                </div>
                <div class="attempts-mode" id="vision-attempts-mode">
                    <label for="vision-attempts-limited"><input type="radio" id="vision-attempts-limited" name="vision-attempts-mode" value="limited" checked> 10 —Å–ø—Ä–æ–±</label>
                    <label for="vision-attempts-unlimited"><input type="radio" id="vision-attempts-unlimited" name="vision-attempts-mode" value="unlimited"> –ë–µ–∑–ª—ñ–º—ñ—Ç</label>
                </div>
            </div>
            <div class="display" id="vision-display">
                <div class="result-display" id="vision-result"></div>
            </div>
            <div class="action-btn">
                <button id="vision-shuffle-btn" class="small-btn" aria-label="–ü–µ—Ä–µ–º—ñ—à–∞—Ç–∏ –æ–±‚Äô—î–∫—Ç–∏">–ü–µ—Ä–µ–º—ñ—à–∞—Ç–∏</button>
            </div>
            <div id="vision-choices">
                <button class="choice-btn color-btn" data-choice="red" aria-label="–û–±—Ä–∞—Ç–∏ —á–µ—Ä–≤–æ–Ω–∏–π –∫–æ–ª—ñ—Ä"></button>
                <button class="choice-btn color-btn" data-choice="blue" aria-label="–û–±—Ä–∞—Ç–∏ —Å–∏–Ω—ñ–π –∫–æ–ª—ñ—Ä"></button>
                <button class="choice-btn shape-btn hidden" data-choice="circle" aria-label="–û–±—Ä–∞—Ç–∏ –∫–æ–ª–æ">
                    <svg width="100" height="100" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="40"></circle>
                    </svg>
                </button>
                <button class="choice-btn shape-btn hidden" data-choice="triangle" aria-label="–û–±—Ä–∞—Ç–∏ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫">
                    <svg width="100" height="100" viewBox="0 0 100 100">
                        <polygon points="50,10 90,90 10,90"></polygon>
                    </svg>
                </button>
            </div>
            <div id="vision-stats">
                <p>–°–ø—Ä–æ–±–∏: <span id="stats-attempts">0</span>/<span id="stats-max-attempts">10</span></p>
                <p>–£—Å–ø—ñ—Ö–∏: <span id="stats-successes">0</span></p>
                <p>–ù–µ–≤–¥–∞—á—ñ: <span id="stats-failures">0</span></p>
                <p>–í—ñ–¥—Å–æ—Ç–æ–∫ —É—Å–ø—ñ—Ö—É: <span id="stats-success-rate">0%</span></p>
                <p>–°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å: <span id="stats-avg-time">0—Å</span></p>
            </div>
            <button class="back-btn" aria-label="–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –º–µ–Ω—é">–ù–∞—Ä–∞–∑—ñ –¥–æ—Å–∏—Ç—å</button>
        </div>
    </div>
    <script src="script.js" defer></script>
</body>
</html>
